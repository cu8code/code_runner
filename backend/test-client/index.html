<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script src="https://cdn.socket.io/3.1.3/socket.io.min.js"
    integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh"
    crossorigin="anonymous"></script>

<body>
    <div style="gap:10px; display: flex; flex-direction: column;">
        <div>
            <input type="text" class="big" name="socket url" id="url" value="url" />
            <input type="submit" class="btn" value="submit" id="submit_btn" />
        </div>
        <div>
            <input type="text" class="big" name="code" id="code" value="code" />
            <input type="submit" class="btn" value="submit" id="run_btn" />
        </div>
    </div>
    <div id="output"></div>
</body>

<script>
    const submit_btn = document.getElementById("submit_btn")
    const output = document.getElementById("output")
    submit_btn.onclick = () => {
        const input = document.getElementById("url")
        const socket = io(input.value)
        
        socket.on("connect", () => {
            output.textContent = "connected " + socket.id
            console.log("runnn");
            socket.emit("run-python:create", "pyhton code" , () =>{
                console.log('callback');
            })
        })

        socket.on("disconnect", () => {
            output.textContent = "disconnected" + socket.id
        });
    }
</script>

<style>
    .big {
        width: 500px;
        height: 100px;
        font-size: 2rem;
    }

    .btn {
        width: 100px;
        height: 50px;
    }
</style>

</html>